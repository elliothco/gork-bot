
# Bluesky Grok Bot

This is a Bluesky bot that automatically replies to mentions and to any public post containing “@grok” using Google Gemini 2.0 via the OpenRouter API.

## Features

* **Responds to all mentions and replies** on Bluesky (via notifications)
* **Uses Google Gemini 2.0** for all AI-powered text responses
* **Thread-aware**: Replies with context of the entire conversation
* **Persistent cache**: Prevents duplicate replies (even if restarted)

## Setup

1. **Clone this repository**

2. **Create a `.env` file** with your credentials:

   ```
   BLUESKY_HANDLE=your-bluesky-handle
   BLUESKY_PASSWORD=your-bluesky-password
   OPENROUTER_KEY=your-openrouter-api-key
   ```

3. **Install dependencies** (requires Python 3.8+):

   ```
   pip install -r requirements.txt
   ```

   *You will need the `websockets` and `requests` packages, as well as `atproto` and `python-dotenv`.*

4. **Run the bot**:

   ```
   python grokbot.py
   ```

## How It Works

* Listens for direct mentions and replies to your bot on Bluesky using the notifications API.
* Fetches the context of the whole thread for the most relevant and chaotic AI response.
* All replies are generated by Google Gemini 2.0 via [OpenRouter](https://openrouter.ai).
* Prevents duplicate replies with a persistent log file (`processed_uris.txt`).

## Deployment

* This bot is platform-agnostic: you can run it on your own server, Raspberry Pi, or deploy it on any service that supports persistent Python processes (like Railway, Fly.io, etc).
* Make sure your process can run continuously and has a persistent filesystem for the cache file.

## Notes

* This version **does not do any image generation or analysis**.
* If you want to match both “@grok” and common typo “@gork”, edit the script and change the firehose substring match accordingly.
* Restarting the bot will not duplicate responses to old posts, as long as the `processed_uris.txt` file is kept.

## Example `.env`

```
BLUESKY_HANDLE=your-handle.bsky.social
BLUESKY_PASSWORD=your-bluesky-app-password
OPENROUTER_KEY=sk-...your openrouter api key...
```
